# 메시지와 인터페이스

> 객체지향 프로그래밍에 대한 가장 흔한 오해는 애플리케이션이 클래스의 집합으로 구성된다는 것이다.

객체지향 애플리케이션의 가장 중요한 재료는 클래스가 아니라 객체들이 주고받는 **메시지**이다.

## 협력과 메시지

### 클라이언트-서버 모델

- 클라이언트
  - 메시지를 전송하는 객체
- 서버
  - 메시지를 수신하는 객체

### 메시지와 메시지 전송

- 메시지는 객체들이 협력하기 위해 사용할 수 있는 유일한 의사소통이다.
- 도움을 요청하는 것을 메시지 전송 또는 메시지 패싱이라고 부른다.
- 메시지를 전송하는 객체를 메시지 전송자라고 부르고 수신하는 객체를 메시지 수진자라고 부른다.
- 메시지는 오퍼레이션명과 인자로 구성되며 메시지 전송은 여기에 메시지 수신자를 추가한 것

### 메시지와 메서드

- 메시지를 수신했을 때 실행되는 것들을 메시지 수신자의 타입에 달려있다.
- 메시지를 수신했을 때 실행되는 함수 또는 프로시저를 메서드 라고 부른다.

### 퍼블릭 인터페이스와 오퍼레이션

- 객체가 의사소통을 위해 외부에 공개하는 메시지의 집합을 퍼블릭 인터페이스라고 부른다.
- 퍼블릭 인터페이스에 포함된 메시지를 오퍼레이션이라고 부른다.

### 시그니처

- 오퍼레이션의 이름과 파라미터 목록을 합쳐 시그니처라고 부른다.

## 인터페이스와 설계 품질

좋은 인터페이스는 최소한의 인터페이스와 추상적인 인터페이스이다.

### 디미터 법칙

- 디미터 법칙에 대한 설명
  - 낯선 자에게 말하지 말라
  - 오직 인접한 이웃하고만 말하라
  - 오직 하나의 도트만 사용하라
- 부끄럼타는 코드를 작성할 수 있다.
  - 캡슐화가 잘 되어 있는 코드를 말함

### 묻지 말고 시켜라

- 내부의 값에 직접적으로 접근하지 말고 해당 객체의 행동을 통해서 해결하라

## 원칙의 함정

### 디미터 법칙은 하나의 도트를 강제하는 규칙이 아니다.

객체의 내부 구현에 대한 정보를 노출하지 않는다면 디비터 법칙을 준수한 것이다.

### 결합도와 응집도의 충돌

- 디미터의 법칙을 무작정 따를 시 응집도가 낮아지는 결과가 나올수도 있다.
- 가끔씩은 객체엑 물어야하며 경우에 따라 다르다.

## 명령-쿼리 분리 원칙

- 프로시저는 부수효과를 발생시킬 수 있지만 값을 반환할 수 없다.
- 함수는 값을 반환할 수 있지만 부수효과를 발생시킬 수 없다.
- 명령과 쿼리는 객체의 인터페이스 측면에서 프로시저와 함수를 부르는 또 다른 이름이다.
- 다음 두가지의 규칙을 따른다.
  - 객체의 상태를 변경하는 명령은 반환값을 가질 수 없다.
  - 객체의 정보를 반환하는 쿼리는 상태를 변경할 수 없다.

### 책임에 초점을 맞춰라

- 디미터 법칙

- 묻지 말고 시켜라

- 의도를 드러내는 인터페이스

- 명령-쿼리 분리 원칙

  



