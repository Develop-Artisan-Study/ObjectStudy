03. 역할,책임,협력

객체지향 시스템은 자율적인 객체들의 공동체
객체는 고립된 존재가 아닌 시스템의 기능이라는 더 큰 목표를 달성하기 위해 다른 객체와 협력하는 사회적 존재

-협력
객체지향의 세계에서 기능을 구현할 수 있는 유일한 방법

어떤 객체가 다른 객체에게 무엇인가를 요청하는 것

한 객체는 어떤 것이 필요할 때 다른 객체에게 전적으로 위임하거나 서로 협력
즉, 두 객체가 상호작용을 통해 더 큰 책임을 수행하는 것

객체 사이의 협력을 설계할 때는 객체를 서로 분리된 인스턴스가 아닌 협력하는 파트너로  
인식해야 함

-메세지 전송
객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단
객체는 다른 객체의 상세한 내부 구현에 직접 접근할 수 없기 때문에 오직 메시지 전송을  
통해서만 자신의 요청을 전달할 수 있음
메세지를 수신한 객체는 메서드를 실행해 요청에 응답
객체가 메시지를 처리할 방법을 스스로 선택한다는 점이 중요!
외부의 객체는 오직 메시지만 전송할 수 있을 뿐이며 메시지를 어떻게 처리할지는 메시지를 수신한 객체가 직접 결정
고로 객체가 자신의 일을 스스로 처리할 수 있는 자율적인 존재라는 것을 의미

결과적으로 객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화 하는 것
캡슐화를 통해 변경에 대한 파급효과를 제한할 수 있기 때문에 자율적인 객체는 변경하기도 쉬워짐

-책임
협력에 참여하기 위해 객체가 수행하는 행동
객체에 의해 정의되는 응집도 있는 행위의 집합으로 객체가 유지해야 하는 정보와 수행 할 수 있는 행동에 대해 개략적으로 서술한 문장

-크레이크 라만의 분류 체계
-하는것
객체를 생성하거나 계산을 수행하는 등의 스스로 하는 것
다른 객체의 행동을 시작시키는 것
다른 객체의 활동을 제어하고 조절하는 것
-아는것
사적인 정보에 관해 아는 것
관련된 객체에 관해 아는 것
자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

책임은 객체지향 설계의 핵심
크레이크 라만은 “객체지향 개발에서 가장 중요한 능력은 책임을 능숙하게 소프트웨어 객체에 할당하는것” 이라는 말로 책임 할당의 중요성을 강조하기도 함

요점은 협력을 설계하기 위해서는 책임에 초점을 맞춰야 한다는 것
책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력을 설계하는 방법을 책임주도설계(Responsibility-Driven Design.RDD)라고 부름

-메시지가 객체를 결정한다
1. 객체가 최소한의 인터페이스를 가질 수 있게 된다.
2. 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.

-행동이 상태를 결정한다
객체의 행동은 객체가 협력에 참여할 수 있는 유일한 방법
객체가 협력에 적합한지를 결정하는 것은 그 객체의 상태가 아니라 행동
초보자들은 먼저 객체에 필요한 상태가 무엇인지를 결정하고 그 후에 상태에 필요한 행동을 결정함
이런 방식은 객체의 내부 구현이 객체의 퍼블릭 인터페이스에 노출되도록 만들기 때문에 캡슐화를 저해
이와 같이 객체의 내부 구현에 초점을 맞춘 설계 방법을 데이터 주도 설계(Data-Driven Design)이라고 부름

-역할
객체가 어떤 특정한 협력 안에서 수행하는 책임의 집합을 역할이라고 부름
역할이 중요한 이유는 역할을 통해 유연하고 재사용 가능한 협력을 얻을 수 있기 때문
협력에 적합한 책임을 수행하는 대상이 한 종류라면 간단하게 객체로 간주한다.
만약 여러 종류의 객체들이 참여할 수 있다면 역할이라고 부르면 된다.
